# GitHub Commits

## About:
gitHubCommits is a python program that searches GitHub's public repos and/or specific repos for a given user's last 60 commits. The program writes the output to a csv file in the current working directory and calculates the mean time of commits.

## Contents
- [Introduction](https://github.com/cvvijayanand/gitHubCommits/blob/master/README.md#introduction)

- [Assumptions](https://github.com/cvvijayanand/gitHubCommits/blob/master/README.md#assumptions)

- [Installation](https://github.com/cvvijayanand/gitHubCommits/blob/master/README.md#installation)

- [How to execute?](https://github.com/cvvijayanand/gitHubCommits/blob/master/README.md#how-to-execute)

- [Input](https://github.com/cvvijayanand/gitHubCommits/blob/master/README.md#input)

- [Output](https://github.com/cvvijayanand/gitHubCommits/blob/master/README.md#output)

- [Error Scenarios](https://github.com/cvvijayanand/gitHubCommits/blob/master/README.md#error-scenarios)


## Introduction
- This program will pull last 60 commits of a given user from GitHub, using GitHub's search/commit API (https://docs.github.com/en/rest/reference/search#search-commits)
- Search for commits will be performed on the "default" branch of a repo. If a specific repo is given as input, commits will be searched within the repo given that user has access (based on GitHub's personal access token
- If no "repo" is passed as a parameter, search for commit happens on all of GitHub's public repos + private repos to which the user has access to (based on GitHub's personal access token)
- If an Invalid Personal access token is provided, an HTTP-401 - (Unauthorised access to the URL) error will be presented in the console

## Assumptions
 - Requirements
   - Input is a valid GitHub user name (ex: octokit, defunkt etc.,)
   - For a specific repo search Username/Repo or ORG/Repo is the format of the input (ex: octokit/octokit.rb, octocat/Spoon-Knife etc,)
   - Search for commits will happen on default branch
   - While searching on "All GitHub", search for commits will happen only on Public repos + the private repos the given token has access to
   - All the read 60 commit times are converted to EST for standardization
   - Mean commit times are displayed as Days, Hours and minutes in the console
   - To pull 60 last commits PER_PAGE parameter in pagination is utilized and the value '60' is hardcoded
 - Program execution assumes: 
   - That the person executing the code will have read/write access to the working directory to create a csv file
   - That a valid GitHub token will be generated by the user executing the program
   - A valid python compatible IDE is used to run the program (as the program can be executed only from the IDE and mean commit time will be displayed in the console)
   - 

## Installation
- This python program requires the following libraries, Install via the terminal/command prompt using the below commands

```
- pip install requests
- pip install pathlib
- pip install os
- pip install csv
- pip install pandas
- pip install numpy
- pip install math
```
- GitHub Personal Access token
https://docs.github.com/en/github/authenticating-to-github/keeping-your-account-and-data-secure/creating-a-personal-access-token

## How to execute?
 - This python program needs to be executed from your IDE's (https://realpython.com/python-ides-code-editors-guide/#python-specific-editors-and-ides)
 
## Input
 This program accepts three inputs via console
  - GitHub username
  - GitHub Personal access token
  - Github Repo (Username/Repo or ORG/Repo) (optional, if commits for a specific repo is required)

 ![gitHubCommits-Input](https://user-images.githubusercontent.com/73783892/126929257-da727ec8-389d-4197-b657-5bdd211a507a.jpg) 

## Output
 This program generates two types of output 
 - csv file in the current working directory with the input GitHub user name as file name (<GitHubUser>.csv)
 
 ![Last 60 commits-csv](https://user-images.githubusercontent.com/73783892/126929470-354ead86-ef11-46f6-a427-ae8fda6b2b79.png)

 
 - Prints mean commit time of the last 60 commits in Days, Hours & Minutes format (Console print)
  (Ex: For example, if User A only had 3 commits in their history on one day at 8am, 11am, and 4pm, the time between the commits are 3 hours and 5 hours. So User A's mean time between commits would be 4 hours. (3+5)/2)
 
![gitHubCommits-Input](https://user-images.githubusercontent.com/73783892/126929455-fa5b4f31-15c6-4681-984a-adffe565fc55.jpg)
 
 ## Error Scenarios
 Following errors are handled for an invalid/incorrect input params
 - Input blank of null for 
   - Username
   - GitHub Personal access token
   - UserName/Repo
 - HTTP Error for calling GitHub's search/commits API (HTTP Error will be displayed in console as is)
   - HTTP Error
   - Timeout Error
   - Connection Error
   - Request Exception Error
 - No Commits for a given user
   - If the given valid GitHub user ID has not performed any commits, there will be a message displaying "There are no commits found for the given user" in the console
 - Token related scenarios
   - If the given token doesn't have access, HTTP-401 (unauthorized access) error will be displayed (as is) in the console
 
